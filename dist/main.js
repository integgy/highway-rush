!function(){var e={339:function(e,t,n){const{randomXPos:s}=n(119);e.exports=class{constructor(e){this.l=40,this.h=50,this.x=s(this.l),this.y=-200,this.color="black",this.image=e}draw(e){e.drawImage(this.image,this.x-4,this.y,50,50)}move(e){this.y+=e}end(e){if(this.y>e)return!0}respawn(){this.x=s(this.l),this.y=-100}passedGate(){return 225===this.y}collision(e){const t=this.x+this.l>=e.x,n=this.x<=e.x+e.l,s=this.y+(this.h+25)>=e.y,i=this.y<=e.y+(e.h+25);return!!(t&&n&&s&&i)}}},119:function(e){const t=512;function n(e){return Math.floor(Math.random()*e)}e.exports={canHeight:700,canWidth:1024,middle:t,randomXPos:function(e){const s=[t-e/2-235,t-e/2-120,t-e/2,t-e/2+120,t-e/2+235];return s[n(s.length)]},gameDetails:function(e,t,n,s){e.font="48px serif",e.fillStyle="white",e.fillText(`Score: ${t}`,10,50)},randomInt:n,gameOver:function(e,t){e.font="48px serif",e.fillStyle="black",e.fillText("Game Over",392,300),e.font="48px serif",e.fillStyle="black",e.fillText(`Your Score: ${t}`,372,350)},uniqueInt:function(e,t){let n;do{n=Math.floor(Math.random()*e)}while(n===t);return n}}},680:function(e,t,n){const{randomXPos:s}=n(119),{canHeight:i}=n(119);e.exports=class{constructor(e){this.l=50,this.h=90,this.x=s(this.l),this.y=-300,this.color="black",this.image=e}draw(e){e.drawImage(this.image,this.x-44,this.y-17,150,125)}move(e){this.y+=e}end(e){if(this.y>e)return!0}respawn(){this.x=s(this.l),this.y=-300}passedGate(e){return Math.floor(this.y/e)===Math.floor(100/e)}collision(e){const t=this.x+this.l>=e.x,n=this.x<=e.x+e.l,s=this.y+(this.h+15)>=e.y,i=this.y<=e.y+(e.h+15);return!!(t&&n&&s&&i)}}},114:function(e){e.exports=class{constructor(e,t,n){this.color="blue",this.l=50,this.h=90,this.x=e-this.l/2,this.y=t,this.image=n}draw(e){e.drawImage(this.image,this.x-49,this.y-10,150,125)}move(e){}playerCollision(e){const t=this.x+this.l>=e.x,n=this.x<=e.x+e.l,s=this.y+this.h>=e.y,i=this.y<=e.y+e.h;if(t&&n&&s&&i)return!0}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(114),t=n.n(e),s=n(680),i=n.n(s),r=n(119),a=n(339),o=n.n(a);const c=document.querySelector("#start"),h=document.querySelector("canvas"),l=document.querySelector(".fuel-meter"),g=document.querySelector(".game-lives"),u=h.getContext("2d");h.width=r.canWidth,h.height=r.canHeight,console.log("Webpack is running :)");const m=new Image;m.src="../game_imgs/Mini_truck.png";const d=new Image;d.src="../game_imgs/taxi.png";const f=new Image;f.src="../game_imgs/truck.png";const p=new Image;p.src="../game_imgs/Police.png";const w=new Image;w.src="../game_imgs/Audi.png";const y=new Image;y.src="../game_imgs/Black_viper.png";const x=new Image;x.src="../game_imgs/gas_tank.png";const v=[y,w,f,m,p,d];function k(){const e=v[(0,r.randomInt)(v.length)];return new(i())(e)}const I=new Image;I.src="../game_imgs/Car.png";const _={8:1.5,15:2,20:2.5,30:3,40:3.5,50:4,60:4.5,70:5,100:5.5,120:6,150:7,200:7.5,300:8,350:9},b={left:{pressed:!1},right:{pressed:!1}};function H(){setInterval((()=>{E&&(O-=.5,q>1&&(O-=.5),q>4&&(O-=1),q>6&&(O-=1))}),1e3),L=[k()],S=[],P=0,T=5,O=100,q=1,E=!1,A=!0,C=null,$()}const M=new(t())(r.middle,r.canHeight-125,I);let L,S,P,T,O,q,A,C,W=new Image,E=!1,G=!0;function $(){var e,t;l.style.width=`${O}%`,g.innerHTML=`Lives: ${T}`,(T<1||O<1)&&(A=!1,E=!1),A&&requestAnimationFrame($),e=G,t=u,W.src=e?"../game_imgs/start-screen.png":"../game_imgs/highway_img.png",t.clearRect(0,0,r.canWidth,r.canHeight),t.drawImage(W,0,0,r.canWidth,r.canHeight),A?G||(0,r.gameDetails)(u,P,T,O):((0,r.gameOver)(u,P),c.innerHTML="restart",c.value="restart"),b.left.pressed&&M.x>r.middle-290&&(M.x-=5),b.right.pressed&&M.x<r.middle+240&&(M.x+=5),M.draw(u);for(let e=0;e<L.length;e++){const t=L[e];t.draw(u),E&&t.move(q),t.passedGate(q)&&(C++,L.length<8&&(L.length>6?C%3==0&&L.push(k()):L.push(new(i())(v[e]))),C%3!=0&&1!==C||S.length<4&&S.push(new(o())(x)));let n=L.filter((e=>e!==t));if(L.length>2)for(let e=0;e<n.length;e++)if(t.collision(n[e])){t.respawn();break}M.playerCollision(t)&&(L.splice(e,1),T-=1),t.end(r.canHeight)&&(P+=1,t.respawn(),_[P]&&(q=_[P]))}S.forEach((e=>{let t=S.indexOf(e);e.draw(u),E&&e.move(q);for(let t=0;t<L.length;t++){const n=L[t];if(e.collision(n)){e.respawn();break}}M.playerCollision(e)&&(S.splice(t,1),O<95&&(O+=5)),e.end(r.canHeight)&&e.respawn()}))}H(),window.addEventListener("keydown",(e=>{switch(e.key){case"ArrowLeft":b.left.pressed=!0;break;case"ArrowRight":b.right.pressed=!0}})),window.addEventListener("keyup",(e=>{switch(e.key){case"ArrowLeft":b.left.pressed=!1;break;case"ArrowRight":b.right.pressed=!1}})),c.addEventListener("click",(e=>{"restart"===c.value?(c.innerHTML="Pause",c.value="pause",H(),E=!0):(E=!E,G=!1,E?(c.innerHTML="Pause",c.value="pause"):(c.innerHTML="Continue",c.value="continue"))}))}()}();
//# sourceMappingURL=main.js.map